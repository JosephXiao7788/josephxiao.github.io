<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç‰©ç†æŒ‘æˆ˜ï¼šSpaceX ç«ç®­å›æ”¶</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background-color: #020617;
            color: white;
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            overflow: hidden;
            touch-action: none;
        }
        #game-container {
            position: relative;
            width: 100%;
            height: 60vh;
            background: linear-gradient(to bottom, #020617 0%, #0f172a 100%);
            border-bottom: 8px solid #334155;
            overflow: hidden;
            cursor: pointer;
        }
        #rocket {
            position: absolute;
            width: 30px;
            height: 80px;
            z-index: 10;
        }
        .rocket-body {
            width: 100%;
            height: 100%;
            background: #e2e8f0;
            border-radius: 4px 4px 2px 2px;
            position: relative;
            border: 1px solid #94a3b8;
        }
        .rocket-window {
            position: absolute;
            top: 15px;
            left: 50%;
            transform: translateX(-50%);
            width: 10px;
            height: 10px;
            background: #38bdf8;
            border-radius: 50%;
        }
        .fin {
            position: absolute;
            bottom: 0;
            width: 15px;
            height: 20px;
            background: #475569;
        }
        .fin-left { left: -10px; clip-path: polygon(100% 0, 0 100%, 100% 100%); }
        .fin-right { right: -10px; clip-path: polygon(0 0, 0 100%, 100% 100%); }
        
        .flame {
            position: absolute;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            background: linear-gradient(to bottom, #fb7185, #f59e0b, transparent);
            border-radius: 0 0 50% 50%;
            display: none;
            filter: blur(2px);
            animation: flicker 0.1s infinite;
        }
        @keyframes flicker {
            0% { height: 25px; opacity: 0.8; }
            50% { height: 35px; opacity: 1; }
            100% { height: 25px; opacity: 0.8; }
        }
        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
        }
        #football {
            position: absolute;
            font-size: 24px;
            display: none;
            z-index: 20;
        }
        /* é®ç½©å±‚æ ·å¼ */
        #overlay {
            position: absolute;
            inset: 0;
            background: rgba(2, 6, 23, 0.8);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 50;
        }
    </style>
</head>
<body class="flex flex-col items-center p-4">

    <div class="text-center mb-4">
        <h1 class="text-3xl font-black text-white tracking-tighter italic">SPACEX <span class="text-blue-500">LANDING</span></h1>
        <p class="text-xs text-gray-500 uppercase tracking-widest">åˆ©ç”¨ç¬¬ä¸€æ€§åŸç† æŒ‘æˆ˜è½¯ç€é™†</p>
    </div>

    <div id="game-container" class="rounded-xl shadow-[0_0_50px_rgba(30,58,138,0.5)] border border-slate-800">
        <!-- å‡†å¤‡ç•Œé¢ -->
        <div id="overlay">
            <h2 class="text-xl font-bold mb-4">å‡†å¤‡å¥½ç€é™†äº†å—ï¼Ÿ</h2>
            <button id="start-btn" class="px-10 py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-full font-bold shadow-lg transition-all transform hover:scale-105">
                å¼€å§‹ä»»åŠ¡ (GO)
            </button>
            <p class="text-[10px] text-gray-400 mt-4 text-center">æ“ä½œæŒ‡å—ï¼šæŒ‰ä½å±å¹•æˆ–ç©ºæ ¼é”®å–·ç«å‡é€Ÿ<br>é™è½é€Ÿåº¦éœ€å°äº 2.0</p>
        </div>

        <div id="stars-layer"></div>
        <div id="football">âš½</div>

        <div id="rocket" style="left: calc(50% - 15px); top: 50px;">
            <div class="rocket-body">
                <div class="rocket-window"></div>
                <div class="fin fin-left"></div>
                <div class="fin fin-right"></div>
            </div>
            <div id="flame" class="flame"></div>
        </div>
        
        <div id="pad" class="absolute bottom-0 left-1/2 -translate-x-1/2 w-48 h-3 bg-slate-700 flex justify-around items-end">
            <div class="w-1/3 h-1 bg-yellow-500"></div>
            <div class="w-1/3 h-1 bg-yellow-500"></div>
            <span class="absolute -top-6 text-[10px] font-bold text-slate-500 italic">OF COURSE I STILL LOVE YOU</span>
        </div>
    </div>

    <div class="mt-4 grid grid-cols-3 gap-2 w-full max-lg">
        <div class="bg-slate-900 p-2 rounded border border-slate-800 text-center">
            <div class="text-[10px] text-gray-500">é€Ÿåº¦ (V)</div>
            <div id="speed-display" class="text-lg font-mono font-bold">0.0</div>
        </div>
        <div class="bg-slate-900 p-2 rounded border border-slate-800 text-center">
            <div class="text-[10px] text-gray-500">é«˜åº¦ (H)</div>
            <div id="height-display" class="text-lg font-mono font-bold">0</div>
        </div>
        <div class="bg-slate-900 p-2 rounded border border-slate-800 text-center">
            <div class="text-[10px] text-gray-500">ç‡ƒæ–™ (FUEL)</div>
            <div class="w-full bg-gray-700 h-1.5 mt-2 rounded-full overflow-hidden">
                <div id="fuel-bar" class="bg-blue-500 h-full w-full"></div>
            </div>
        </div>
    </div>

    <div class="mt-4 flex gap-4">
        <button id="reset-btn" class="hidden px-8 py-2 bg-white text-black rounded font-bold uppercase text-sm hover:bg-blue-400 transition">é‡å¯ç³»ç»Ÿ</button>
    </div>

    <div class="mt-6 w-full max-w-lg space-y-3">
        <div class="p-4 bg-blue-950/20 border-l-4 border-blue-500 rounded">
            <h3 class="font-bold text-blue-400 text-sm">ğŸ’¡ ç‰©ç†å®éªŒå®¤è§‚å¯Ÿï¼š</h3>
            <p class="text-xs text-gray-400 mt-1 leading-relaxed">
                <span class="text-white">é‡åŠ›å‡å¼±ï¼š</span> æˆ‘è°ƒå°äº†é‡åŠ›å‚æ•°ï¼ˆç°åœ¨æ˜¯ 0.08ï¼‰ï¼Œæ¨¡æ‹Ÿåœ¨å¼•åŠ›è¾ƒå°çš„æ˜Ÿçƒä¸Šç€é™†ï¼Œç»™ä½ æ›´å¤šååº”æ—¶é—´ã€‚
                <br>
                <span class="text-white">åˆåŠ› (Net Force)ï¼š</span> å½“ä½ å–·ç«æ—¶ï¼ŒåˆåŠ› = æ¨åŠ› - é‡åŠ›ã€‚å› ä¸ºåˆåŠ›å˜å°äº†ï¼Œä½ çš„é€Ÿåº¦æ”¹å˜ï¼ˆåŠ é€Ÿåº¦ï¼‰ä¼šæ›´å¹³ç¼“ï¼Œä¸ä¼šçŒ›å†²çŒ›æ‰ã€‚
            </p>
        </div>
    </div>

    <script>
        const rocket = document.getElementById('rocket');
        const flame = document.getElementById('flame');
        const speedDisplay = document.getElementById('speed-display');
        const heightDisplay = document.getElementById('height-display');
        const fuelBar = document.getElementById('fuel-bar');
        const resetBtn = document.getElementById('reset-btn');
        const startBtn = document.getElementById('start-btn');
        const overlay = document.getElementById('overlay');
        const container = document.getElementById('game-container');
        const football = document.getElementById('football');

        // æ ¸å¿ƒç‰©ç†å¼•æ“å‚æ•°ï¼ˆå·²è°ƒä¼˜ï¼Œæ›´æ…¢ã€æ›´ä¸æ»‘ï¼‰
        const GRAVITY_CONSTANT = 0.08;          
        const THRUST = 0.22;    // æ¨åŠ›ä¹Ÿç›¸åº”è°ƒå°ï¼Œä¿æŒæ‰‹æ„Ÿ
        let currentVelocity = 0; 
        let currentPosY = 50;    
        let fuelAmount = 100;    
        let isThrustActive = false;
        let isGameOverStatus = false;
        let isGameStarted = false; // æ–°å¢ï¼šæ§åˆ¶æ¸¸æˆæ˜¯å¦å¼€å§‹

        function initStars() {
            const layer = document.getElementById('stars-layer');
            for (let i = 0; i < 80; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                const size = Math.random() * 2;
                star.style.width = size + 'px';
                star.style.height = size + 'px';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.opacity = Math.random();
                layer.appendChild(star);
            }
        }

        function gameLoop() {
            if (isGameOverStatus || !isGameStarted) return;

            // 1. ç‰©ç†è®¡ç®—
            currentVelocity += GRAVITY_CONSTANT; 

            if (isThrustActive && fuelAmount > 0) {
                currentVelocity -= THRUST; 
                fuelAmount -= 0.4; // ç‡ƒæ–™æ¶ˆè€—ä¹Ÿç¨å¾®è°ƒæ…¢
                flame.style.display = 'block';
            } else {
                flame.style.display = 'none';
            }

            currentPosY += currentVelocity;

            // 2. è¾¹ç•Œåˆ¤å®š
            const limitPos = container.offsetHeight - 80 - 8; 
            
            if (currentPosY < 0) { currentPosY = 0; currentVelocity = 0; }
            if (currentPosY >= limitPos) {
                currentPosY = limitPos;
                processEndGame();
            }

            // 3. æ¸²æŸ“UI
            rocket.style.top = currentPosY + 'px';
            speedDisplay.innerText = currentVelocity.toFixed(1);
            heightDisplay.innerText = Math.round(limitPos - currentPosY);
            fuelBar.style.width = fuelAmount + '%';
            
            speedDisplay.style.color = currentVelocity > 2.0 ? '#f87171' : '#4ade80';
            if (fuelAmount < 20) fuelBar.style.backgroundColor = '#ef4444';

            requestAnimationFrame(gameLoop);
        }

        function processEndGame() {
            isGameOverStatus = true;
            flame.style.display = 'none';
            resetBtn.classList.remove('hidden');
            
            if (currentVelocity < 2.2) {
                rocket.style.filter = "drop-shadow(0 0 15px #4ade80)";
                football.style.display = 'block';
                football.style.left = (parseInt(rocket.style.left) + 40) + 'px';
                football.style.bottom = '10px';
                setTimeout(() => alert("ğŸ… å®Œç¾ç€é™†ï¼ä½ å¯¹åˆåŠ›çš„æ§åˆ¶éå¸¸ç²¾å‡†ï¼"), 100);
            } else {
                rocket.style.transform = "rotate(45deg)";
                rocket.style.filter = "sepia(1) saturate(5) hue-rotate(-50deg)";
                setTimeout(() => alert("ğŸ’¥ å æ¯ï¼é€Ÿåº¦å¤ªå¿«äº†ã€‚å°è¯•æ›´æ—©å¼€å§‹å–·ç«ï¼"), 100);
            }
        }

        function startGame() {
            isGameStarted = true;
            overlay.style.display = 'none';
            gameLoop();
        }

        function resetSimulation() {
            currentVelocity = 0; currentPosY = 50; fuelAmount = 100;
            isGameOverStatus = false;
            isThrustActive = false;
            rocket.style.transform = "rotate(0deg)";
            rocket.style.filter = "none";
            football.style.display = 'none';
            fuelBar.style.backgroundColor = '#3b82f6';
            resetBtn.classList.add('hidden');
            overlay.style.display = 'flex';
            isGameStarted = false;
        }

        // æ§åˆ¶é€»è¾‘
        const handlePress = () => { if(isGameStarted) isThrustActive = true; };
        const handleRelease = () => isThrustActive = false;

        window.onkeydown = (e) => { if(e.code === 'Space') handlePress(); };
        window.onkeyup = (e) => { if(e.code === 'Space') handleRelease(); };
        container.onmousedown = handlePress;
        container.onmouseup = handleRelease;
        container.ontouchstart = (e) => { e.preventDefault(); handlePress(); };
        container.ontouchend = handleRelease;
        
        startBtn.onclick = startGame;
        resetBtn.onclick = resetSimulation;

        initStars();
    </script>
</body>
</html>